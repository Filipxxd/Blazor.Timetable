<div class="timetable-event @(IsWholeDay ? "" : "timetable-movable-event")"
     data-event-id="@EventId"
     @key="EventId"
     style='height: @(IsWholeDay ? "2rem" : $"{Span * 2}rem")'>
    <div class="timetable-event-pill" @onmousedown=TogglePopover>
        @Title
    </div>

    @if (_popoverVisible)
    {
        <div class="popover">
            <div class="popover-header">
                <h4>@Title</h4>
                <button class="close-btn" @onclick=TogglePopover>&#10006;</button>
            </div>
            <div class="popover-body">
                @DetailTemplate
            </div>
        </div>
    }
</div>
